2025-04-07 16:33:05,311 - INFO - [81521] - root - Initializing application
2025-04-07 16:33:05,311 - INFO - [81521] - root - Setting up database connection to postgresql://postgres:7987@localhost:5432/Voice_Recognition
2025-04-07 16:33:05,509 - INFO - [81521] - root - Database setup successful
2025-04-07 16:33:05,509 - INFO - [81521] - root - Starting Flask server on port 8586
2025-04-07 16:33:05,538 - WARNING - [81521] - werkzeug -  * Debugger is active!
2025-04-07 16:33:05,547 - INFO - [81521] - werkzeug -  * Debugger PIN: 137-071-496
2025-04-07 16:33:07,292 - INFO - [81521] - root - Serving index page
2025-04-07 16:33:07,301 - INFO - [81521] - werkzeug - 127.0.0.1 - - [07/Apr/2025 16:33:07] "GET / HTTP/1.1" 200 -
2025-04-07 16:33:13,623 - INFO - [81521] - werkzeug - 127.0.0.1 - - [07/Apr/2025 16:33:13] "[31m[1mGET /upload?language=ar&audio=[object+File]&streaming=on&streaming=true HTTP/1.1[0m" 405 -
2025-04-07 16:34:03,087 - INFO - [81521] - werkzeug - 127.0.0.1 - - [07/Apr/2025 16:34:03] "[31m[1mGET /upload?language=ar&audio=[object+File]&streaming=on&streaming=true HTTP/1.1[0m" 405 -
2025-04-07 16:34:03,860 - INFO - [81521] - werkzeug - 127.0.0.1 - - [07/Apr/2025 16:34:03] "[31m[1mGET /upload?language=ar&audio=[object+File]&streaming=on&streaming=true HTTP/1.1[0m" 405 -
2025-04-07 16:43:02,860 - INFO - [81521] - root - Serving index page
2025-04-07 16:43:02,879 - INFO - [81521] - werkzeug - 127.0.0.1 - - [07/Apr/2025 16:43:02] "GET / HTTP/1.1" 200 -
2025-04-07 16:43:09,863 - INFO - [81521] - root - Received upload request
2025-04-07 16:43:09,866 - INFO - [81521] - werkzeug - 127.0.0.1 - - [07/Apr/2025 16:43:09] "[31m[1mGET /upload?streaming=true&language=ar HTTP/1.1[0m" 405 -
2025-04-07 16:43:09,877 - INFO - [81521] - root - Upload parameters: language=ar, streaming=True
2025-04-07 16:43:09,881 - INFO - [81521] - root - File saved to uploads/be97a0b0a003439e83e150934f6124ee.m4a
2025-04-07 16:43:09,881 - INFO - [81521] - root - Starting streaming mode processing
2025-04-07 16:43:09,881 - INFO - [81521] - root - StreamingResult initialized
2025-04-07 16:43:09,881 - INFO - [81521] - root - Starting streaming audio processing for uploads/be97a0b0a003439e83e150934f6124ee.m4a
2025-04-07 16:43:09,881 - INFO - [81521] - root - Background processing thread started
2025-04-07 16:43:09,881 - INFO - [81521] - root - Preprocessing audio
2025-04-07 16:43:09,882 - INFO - [81521] - root - Returning streaming response
2025-04-07 16:43:09,884 - INFO - [81521] - root - Starting SSE stream
2025-04-07 16:43:09,884 - INFO - [81521] - root - Current state: complete=False, text_length=0
2025-04-07 16:43:09,885 - INFO - [81521] - werkzeug - 127.0.0.1 - - [07/Apr/2025 16:43:09] "POST /upload HTTP/1.1" 200 -
2025-04-07 16:43:10,392 - INFO - [81521] - root - Current state: complete=False, text_length=0
2025-04-07 16:43:11,053 - INFO - [81521] - root - Current state: complete=False, text_length=0
2025-04-07 16:43:11,559 - INFO - [81521] - root - Current state: complete=False, text_length=0
2025-04-07 16:43:12,064 - INFO - [81521] - root - Current state: complete=False, text_length=0
2025-04-07 16:43:12,501 - INFO - [81521] - root - Starting parallel audio transcription
2025-04-07 16:43:12,501 - INFO - [81521] - root - Starting parallel audio processing with 3 workers
2025-04-07 16:43:12,501 - INFO - [81521] - root - Splitting audio file /var/folders/9h/zs4mvmp91456_d2n2hqf6wzc0000gn/T/tmp0lbnks9p/processed_audio.wav into chunks of 20000ms
2025-04-07 16:43:12,519 - INFO - [81521] - root - Created 2 audio chunks
2025-04-07 16:43:12,521 - INFO - [81521] - root - Processing audio chunk: /var/folders/9h/zs4mvmp91456_d2n2hqf6wzc0000gn/T/tmp0lbnks9p/processed_audio.wav_chunk_0.wav
2025-04-07 16:43:12,521 - INFO - [81521] - root - Processing audio chunk: /var/folders/9h/zs4mvmp91456_d2n2hqf6wzc0000gn/T/tmp0lbnks9p/processed_audio.wav_chunk_20000.wav
2025-04-07 16:43:12,569 - INFO - [81521] - root - Current state: complete=False, text_length=0
2025-04-07 16:43:13,075 - INFO - [81521] - root - Current state: complete=False, text_length=0
2025-04-07 16:43:13,581 - INFO - [81521] - root - Current state: complete=False, text_length=0
2025-04-07 16:43:14,086 - INFO - [81521] - root - Current state: complete=False, text_length=0
2025-04-07 16:43:14,592 - INFO - [81521] - root - Current state: complete=False, text_length=0
2025-04-07 16:43:15,097 - INFO - [81521] - root - Current state: complete=False, text_length=0
2025-04-07 16:43:15,601 - INFO - [81521] - root - Current state: complete=False, text_length=0
2025-04-07 16:43:16,107 - INFO - [81521] - root - Current state: complete=False, text_length=0
2025-04-07 16:43:16,613 - INFO - [81521] - root - Current state: complete=False, text_length=0
2025-04-07 16:43:17,118 - INFO - [81521] - root - Current state: complete=False, text_length=0
2025-04-07 16:43:17,151 - INFO - [81521] - httpx - HTTP Request: POST https://api.groq.com/openai/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-07 16:43:17,166 - INFO - [81521] - root - Removed chunk /var/folders/9h/zs4mvmp91456_d2n2hqf6wzc0000gn/T/tmp0lbnks9p/processed_audio.wav_chunk_20000.wav
2025-04-07 16:43:17,623 - INFO - [81521] - root - Current state: complete=False, text_length=0
2025-04-07 16:43:17,862 - INFO - [81521] - httpx - HTTP Request: POST https://api.groq.com/openai/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-07 16:43:17,865 - INFO - [81521] - root - Removed chunk /var/folders/9h/zs4mvmp91456_d2n2hqf6wzc0000gn/T/tmp0lbnks9p/processed_audio.wav_chunk_0.wav
2025-04-07 16:43:17,865 - INFO - [81521] - root - Chunk 0 processing completed
2025-04-07 16:43:17,865 - INFO - [81521] - root - Chunk 1 processing completed
2025-04-07 16:43:17,865 - INFO - [81521] - root - Parallel processing completed, combined text length: 339
2025-04-07 16:43:17,865 - INFO - [81521] - root - Audio transcription completed, text length: 339
2025-04-07 16:43:17,865 - INFO - [81521] - root - Raw text updated, new length: 339
2025-04-07 16:43:17,865 - INFO - [81521] - root - Starting LLM processing
2025-04-07 16:43:18,129 - INFO - [81521] - root - Current state: complete=False, text_length=339
2025-04-07 16:43:18,631 - INFO - [81521] - root - Current state: complete=False, text_length=339
2025-04-07 16:43:19,134 - INFO - [81521] - root - Current state: complete=False, text_length=339
2025-04-07 16:43:19,640 - INFO - [81521] - root - Current state: complete=False, text_length=339
2025-04-07 16:43:20,147 - INFO - [81521] - root - Current state: complete=False, text_length=339
2025-04-07 16:43:20,649 - INFO - [81521] - root - Current state: complete=False, text_length=339
2025-04-07 16:43:21,154 - INFO - [81521] - root - Current state: complete=False, text_length=339
2025-04-07 16:43:21,659 - INFO - [81521] - root - Current state: complete=False, text_length=339
2025-04-07 16:43:22,164 - INFO - [81521] - root - Current state: complete=False, text_length=339
2025-04-07 16:43:22,667 - INFO - [81521] - root - Current state: complete=False, text_length=339
2025-04-07 16:43:23,173 - INFO - [81521] - root - Current state: complete=False, text_length=339
2025-04-07 16:43:23,678 - INFO - [81521] - root - Current state: complete=False, text_length=339
2025-04-07 16:43:24,182 - INFO - [81521] - root - Current state: complete=False, text_length=339
2025-04-07 16:43:24,685 - INFO - [81521] - root - Current state: complete=False, text_length=339
2025-04-07 16:43:25,189 - INFO - [81521] - root - Current state: complete=False, text_length=339
2025-04-07 16:43:25,694 - INFO - [81521] - root - Current state: complete=False, text_length=339
2025-04-07 16:43:26,199 - INFO - [81521] - root - Current state: complete=False, text_length=339
2025-04-07 16:43:26,704 - INFO - [81521] - root - Current state: complete=False, text_length=339
2025-04-07 16:43:27,207 - INFO - [81521] - root - Current state: complete=False, text_length=339
2025-04-07 16:43:27,712 - INFO - [81521] - root - Current state: complete=False, text_length=339
2025-04-07 16:43:28,218 - INFO - [81521] - root - Current state: complete=False, text_length=339
2025-04-07 16:43:28,723 - INFO - [81521] - root - Current state: complete=False, text_length=339
2025-04-07 16:43:28,948 - INFO - [81521] - httpx - HTTP Request: POST https://api.fireworks.ai/inference/v1/completions "HTTP/1.1 200 OK"
2025-04-07 16:43:28,953 - INFO - [81521] - root - Parsing refined text
2025-04-07 16:43:28,954 - INFO - [81521] - root - Setting refined results
2025-04-07 16:43:28,954 - INFO - [81521] - root - Refined results set
2025-04-07 16:43:28,954 - INFO - [81521] - root - Processing marked as complete
2025-04-07 16:43:28,954 - INFO - [81521] - root - Streaming processing completed successfully
2025-04-07 16:43:28,956 - INFO - [81521] - root - Removed processed file /var/folders/9h/zs4mvmp91456_d2n2hqf6wzc0000gn/T/tmp0lbnks9p/processed_audio.wav
2025-04-07 16:43:29,229 - INFO - [81521] - root - Current state: complete=True, text_length=339
2025-04-07 16:43:29,229 - INFO - [81521] - root - Sending final state: complete=True
2025-04-07 16:43:29,230 - INFO - [81521] - root - SSE stream ended
2025-04-07 16:43:35,629 - INFO - [81521] - root - Received upload request
2025-04-07 16:43:35,632 - INFO - [81521] - werkzeug - 127.0.0.1 - - [07/Apr/2025 16:43:35] "[31m[1mGET /upload?streaming=true&language=ar HTTP/1.1[0m" 405 -
2025-04-07 16:43:35,639 - INFO - [81521] - root - Upload parameters: language=ar, streaming=True
2025-04-07 16:43:35,641 - INFO - [81521] - root - File saved to uploads/f9977b7cde54446fa203e32d482f110f.ogg
2025-04-07 16:43:35,641 - INFO - [81521] - root - Starting streaming mode processing
2025-04-07 16:43:35,641 - INFO - [81521] - root - StreamingResult initialized
2025-04-07 16:43:35,641 - INFO - [81521] - root - Starting streaming audio processing for uploads/f9977b7cde54446fa203e32d482f110f.ogg
2025-04-07 16:43:35,641 - INFO - [81521] - root - Background processing thread started
2025-04-07 16:43:35,641 - INFO - [81521] - root - Preprocessing audio
2025-04-07 16:43:35,641 - INFO - [81521] - root - Returning streaming response
2025-04-07 16:43:35,642 - INFO - [81521] - root - Starting SSE stream
2025-04-07 16:43:35,642 - INFO - [81521] - root - Current state: complete=False, text_length=0
2025-04-07 16:43:35,642 - INFO - [81521] - werkzeug - 127.0.0.1 - - [07/Apr/2025 16:43:35] "POST /upload HTTP/1.1" 200 -
2025-04-07 16:43:36,144 - INFO - [81521] - root - Current state: complete=False, text_length=0
2025-04-07 16:43:36,193 - INFO - [81521] - root - Starting parallel audio transcription
2025-04-07 16:43:36,193 - INFO - [81521] - root - Starting parallel audio processing with 3 workers
2025-04-07 16:43:36,193 - INFO - [81521] - root - Splitting audio file /var/folders/9h/zs4mvmp91456_d2n2hqf6wzc0000gn/T/tmpgkqzrpli/processed_audio.wav into chunks of 20000ms
2025-04-07 16:43:36,201 - INFO - [81521] - root - Created 2 audio chunks
2025-04-07 16:43:36,202 - INFO - [81521] - root - Processing audio chunk: /var/folders/9h/zs4mvmp91456_d2n2hqf6wzc0000gn/T/tmpgkqzrpli/processed_audio.wav_chunk_0.wav
2025-04-07 16:43:36,202 - INFO - [81521] - root - Processing audio chunk: /var/folders/9h/zs4mvmp91456_d2n2hqf6wzc0000gn/T/tmpgkqzrpli/processed_audio.wav_chunk_20000.wav
2025-04-07 16:43:36,650 - INFO - [81521] - root - Current state: complete=False, text_length=0
2025-04-07 16:43:37,155 - INFO - [81521] - root - Current state: complete=False, text_length=0
2025-04-07 16:43:37,670 - INFO - [81521] - root - Current state: complete=False, text_length=0
2025-04-07 16:43:38,173 - INFO - [81521] - root - Current state: complete=False, text_length=0
2025-04-07 16:43:38,678 - INFO - [81521] - root - Current state: complete=False, text_length=0
2025-04-07 16:43:38,762 - INFO - [81521] - httpx - HTTP Request: POST https://api.groq.com/openai/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-07 16:43:38,764 - INFO - [81521] - root - Removed chunk /var/folders/9h/zs4mvmp91456_d2n2hqf6wzc0000gn/T/tmpgkqzrpli/processed_audio.wav_chunk_20000.wav
2025-04-07 16:43:39,183 - INFO - [81521] - root - Current state: complete=False, text_length=0
2025-04-07 16:43:39,688 - INFO - [81521] - root - Current state: complete=False, text_length=0
2025-04-07 16:43:40,190 - INFO - [81521] - root - Current state: complete=False, text_length=0
2025-04-07 16:43:40,695 - INFO - [81521] - root - Current state: complete=False, text_length=0
2025-04-07 16:43:41,197 - INFO - [81521] - root - Current state: complete=False, text_length=0
2025-04-07 16:43:41,372 - INFO - [81521] - httpx - HTTP Request: POST https://api.groq.com/openai/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-04-07 16:43:41,373 - INFO - [81521] - root - Removed chunk /var/folders/9h/zs4mvmp91456_d2n2hqf6wzc0000gn/T/tmpgkqzrpli/processed_audio.wav_chunk_0.wav
2025-04-07 16:43:41,373 - INFO - [81521] - root - Chunk 0 processing completed
2025-04-07 16:43:41,374 - INFO - [81521] - root - Chunk 1 processing completed
2025-04-07 16:43:41,374 - INFO - [81521] - root - Parallel processing completed, combined text length: 390
2025-04-07 16:43:41,374 - INFO - [81521] - root - Audio transcription completed, text length: 390
2025-04-07 16:43:41,374 - INFO - [81521] - root - Raw text updated, new length: 390
2025-04-07 16:43:41,374 - INFO - [81521] - root - Starting LLM processing
2025-04-07 16:43:41,698 - INFO - [81521] - root - Current state: complete=False, text_length=390
2025-04-07 16:43:42,204 - INFO - [81521] - root - Current state: complete=False, text_length=390
2025-04-07 16:43:42,710 - INFO - [81521] - root - Current state: complete=False, text_length=390
2025-04-07 16:43:43,216 - INFO - [81521] - root - Current state: complete=False, text_length=390
2025-04-07 16:43:43,724 - INFO - [81521] - root - Current state: complete=False, text_length=390
2025-04-07 16:43:44,229 - INFO - [81521] - root - Current state: complete=False, text_length=390
2025-04-07 16:43:44,732 - INFO - [81521] - root - Current state: complete=False, text_length=390
2025-04-07 16:43:45,238 - INFO - [81521] - root - Current state: complete=False, text_length=390
2025-04-07 16:43:45,742 - INFO - [81521] - root - Current state: complete=False, text_length=390
2025-04-07 16:43:46,246 - INFO - [81521] - root - Current state: complete=False, text_length=390
2025-04-07 16:43:46,750 - INFO - [81521] - root - Current state: complete=False, text_length=390
2025-04-07 16:43:47,255 - INFO - [81521] - root - Current state: complete=False, text_length=390
2025-04-07 16:43:47,760 - INFO - [81521] - root - Current state: complete=False, text_length=390
2025-04-07 16:43:48,260 - INFO - [81521] - root - Current state: complete=False, text_length=390
2025-04-07 16:43:48,766 - INFO - [81521] - root - Current state: complete=False, text_length=390
2025-04-07 16:43:49,272 - INFO - [81521] - root - Current state: complete=False, text_length=390
2025-04-07 16:43:49,777 - INFO - [81521] - root - Current state: complete=False, text_length=390
2025-04-07 16:43:50,282 - INFO - [81521] - root - Current state: complete=False, text_length=390
2025-04-07 16:43:50,788 - INFO - [81521] - root - Current state: complete=False, text_length=390
2025-04-07 16:43:51,264 - INFO - [81521] - httpx - HTTP Request: POST https://api.fireworks.ai/inference/v1/completions "HTTP/1.1 200 OK"
2025-04-07 16:43:51,273 - INFO - [81521] - root - Parsing refined text
2025-04-07 16:43:51,275 - INFO - [81521] - root - Setting refined results
2025-04-07 16:43:51,275 - INFO - [81521] - root - Refined results set
2025-04-07 16:43:51,275 - INFO - [81521] - root - Processing marked as complete
2025-04-07 16:43:51,275 - INFO - [81521] - root - Streaming processing completed successfully
2025-04-07 16:43:51,276 - INFO - [81521] - root - Removed processed file /var/folders/9h/zs4mvmp91456_d2n2hqf6wzc0000gn/T/tmpgkqzrpli/processed_audio.wav
2025-04-07 16:43:51,291 - INFO - [81521] - root - Current state: complete=True, text_length=390
2025-04-07 16:43:51,291 - INFO - [81521] - root - Sending final state: complete=True
2025-04-07 16:43:51,291 - INFO - [81521] - root - SSE stream ended
